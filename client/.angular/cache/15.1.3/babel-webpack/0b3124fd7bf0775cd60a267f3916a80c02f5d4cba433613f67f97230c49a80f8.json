{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/services/auth.service\";\nimport * as i4 from \"../../services/validator.service\";\nimport * as i5 from \"@angular/common\";\nfunction RegisterComponent_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 17);\n    i0.ɵɵtext(1, \" Campo obligatorio y debe contener nombre y apellido \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_span_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 17);\n    i0.ɵɵtext(1, \" Campo obligatorio y debe tener el formato de un email \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_span_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 17);\n    i0.ɵɵtext(1, \" La constrase\\u00F1a debe tener mas de 6 caracteres \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_span_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 17);\n    i0.ɵɵtext(1, \" La constrase\\u00F1as deben de ser iguales \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class RegisterComponent {\n  constructor(fb, router, authService, vs) {\n    this.fb = fb;\n    this.router = router;\n    this.authService = authService;\n    this.vs = vs;\n    this.miFormulario = this.fb.group({\n      name: ['', [Validators.required, Validators.pattern(this.vs.nombreApellidoPattern)]],\n      email: ['', [Validators.required, Validators.pattern(this.vs.emailPattern)]],\n      password: ['', [Validators.required, Validators.minLength(6)]],\n      password2: ['', [Validators.required]]\n    }, {\n      validators: [this.vs.camposIguales('password', 'password2')]\n    });\n  }\n  campoNoValido(campo) {\n    return this.miFormulario.get(campo)?.touched && this.miFormulario.get(campo)?.invalid;\n  }\n  register() {\n    const {\n      name,\n      email,\n      password\n    } = this.miFormulario.value;\n    this.authService.register(name, email, password).subscribe(valid => {\n      console.log(valid);\n      if (valid === true) {\n        this.router.navigateByUrl('/dashboard/classroom');\n      } else {\n        Swal.fire({\n          icon: 'error',\n          title: 'Email ya registrado',\n          showConfirmButton: true,\n          confirmButtonColor: '#18619b'\n        });\n      }\n    });\n  }\n}\nRegisterComponent.ɵfac = function RegisterComponent_Factory(t) {\n  return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.AuthService), i0.ɵɵdirectiveInject(i4.ValidatorService));\n};\nRegisterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RegisterComponent,\n  selectors: [[\"app-register\"]],\n  decls: 31,\n  vars: 6,\n  consts: [[1, \"container-sm\", \"d-flex\", \"flex-column\"], [\"src\", \"assets/img/Logo.png\", \"alt\", \"logo\", \"width\", \"230px\", 1, \"img-fluid\", \"mx-auto\"], [1, \"container-sm\", \"mt-5\"], [\"autocomplete\", \"off\", 3, \"formGroup\", \"ngSubmit\"], [1, \"row\", \"align-items-start\", \"mt-4\"], [1, \"col\", \"mb-3\", \"lnombre\"], [\"for\", \"nombre\", 1, \"form-label\", \"text-primary\"], [\"type\", \"text\", \"formControlName\", \"name\", 1, \"form-control\", \"bg-transparent\", \"py-3\", \"ps-3\", 2, \"border-color\", \"#18619B\"], [\"class\", \"form-text text-danger\", 4, \"ngIf\"], [\"for\", \"exampleInputEmail1\", 1, \"form-label\", \"text-primary\", 2, \"color\", \"#18619B\"], [\"type\", \"email\", \"formControlName\", \"email\", 1, \"form-control\", \"bg-transparent\", \"py-3\", \"ps-3\", 2, \"border-color\", \"#18619B\"], [\"type\", \"password\", \"formControlName\", \"password\", 1, \"form-control\", \"bg-transparent\", \"py-3\", \"ps-3\", 2, \"border-color\", \"#18619B\"], [1, \"col\", \"lnombre\"], [\"type\", \"password\", \"formControlName\", \"password2\", 1, \"form-control\", \"bg-transparent\", \"py-3\", \"ps-3\", 2, \"border-color\", \"#18619B\"], [1, \"row\", \"align-items-center\", 2, \"margin-top\", \"50px\"], [1, \"col\"], [\"type\", \"submit\", 1, \"btn\", 2, \"color\", \"#ffff\", \"background-color\", \"#18619B\", \"width\", \"100%\", 3, \"disabled\"], [1, \"form-text\", \"text-danger\"]],\n  template: function RegisterComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"img\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2)(3, \"form\", 3);\n      i0.ɵɵlistener(\"ngSubmit\", function RegisterComponent_Template_form_ngSubmit_3_listener() {\n        return ctx.register();\n      });\n      i0.ɵɵelementStart(4, \"div\", 4)(5, \"div\", 5)(6, \"label\", 6);\n      i0.ɵɵtext(7, \"Nombres y Apellidos\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"input\", 7);\n      i0.ɵɵtemplate(9, RegisterComponent_span_9_Template, 2, 0, \"span\", 8);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"div\", 4)(11, \"div\", 5)(12, \"label\", 9);\n      i0.ɵɵtext(13, \"E-mail\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(14, \"input\", 10);\n      i0.ɵɵtemplate(15, RegisterComponent_span_15_Template, 2, 0, \"span\", 8);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"div\", 4)(17, \"div\", 5)(18, \"label\", 9);\n      i0.ɵɵtext(19, \"Contrase\\u00F1a\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(20, \"input\", 11);\n      i0.ɵɵtemplate(21, RegisterComponent_span_21_Template, 2, 0, \"span\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\", 12)(23, \"label\", 9);\n      i0.ɵɵtext(24, \"Repetir contrase\\u00F1a\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(25, \"input\", 13);\n      i0.ɵɵtemplate(26, RegisterComponent_span_26_Template, 2, 0, \"span\", 8);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(27, \"div\", 14)(28, \"div\", 15)(29, \"button\", 16);\n      i0.ɵɵtext(30, \"Crear cuenta\");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"formGroup\", ctx.miFormulario);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ctx.campoNoValido(\"name\"));\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ctx.campoNoValido(\"email\"));\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ctx.campoNoValido(\"password\"));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.campoNoValido(\"password2\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"disabled\", ctx.miFormulario.invalid);\n    }\n  },\n  dependencies: [i5.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\".lnombre[_ngcontent-%COMP%] {\\n  position: relative;\\n}\\n\\n.lnombre[_ngcontent-%COMP%]    > input[_ngcontent-%COMP%] {\\n  position: relative;\\n  font-size: 16px;\\n}\\n\\n.lnombre[_ngcontent-%COMP%]    > label[_ngcontent-%COMP%] {\\n  position: absolute;\\n  background: #e8eff5;\\n  top: -0.7em;\\n  z-index: 1;\\n  padding: 0 5px;\\n  left: 1em;\\n}\\n\\n[_ngcontent-%COMP%]::placeholder {\\n  color: #d8d9db;\\n}\\n\\nimg[_ngcontent-%COMP%] {\\n  margin-top: 100px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYXV0aC9yZWdpc3Rlci9yZWdpc3Rlci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFBO0FBQ0o7O0FBRUE7RUFDSSxrQkFBQTtFQUNBLGVBQUE7QUFDSjs7QUFJQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSxXQUFBO0VBQ0EsVUFBQTtFQUNBLGNBQUE7RUFDQSxTQUFBO0FBREE7O0FBSUE7RUFDSSxjQUFBO0FBREo7O0FBSUE7RUFDSSxpQkFBQTtBQURKIiwic291cmNlc0NvbnRlbnQiOlsiLmxub21icmV7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbn1cclxuXHJcbi5sbm9tYnJlID4gaW5wdXR7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICBcclxuXHJcbn1cclxuXHJcbi5sbm9tYnJlID4gbGFiZWx7XHJcbnBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuYmFja2dyb3VuZDogI2U4ZWZmNTtcclxudG9wOi0wLjdlbTtcclxuei1pbmRleDogMTtcclxucGFkZGluZzogMCA1cHg7XHJcbmxlZnQ6IDFlbTtcclxufVxyXG5cclxuOjpwbGFjZWhvbGRlcntcclxuICAgIGNvbG9yOiNkOGQ5ZGI7XHJcbn1cclxuXHJcbmltZ3tcclxuICAgIG1hcmdpbi10b3A6IDEwMHB4O1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["Validators","Swal","i0","RegisterComponent","constructor","fb","router","authService","vs","group","name","required","pattern","nombreApellidoPattern","email","emailPattern","password","minLength","password2","validators","camposIguales","campoNoValido","campo","miFormulario","get","touched","invalid","register","value","subscribe","valid","console","log","navigateByUrl","fire","icon","title","showConfirmButton","confirmButtonColor","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Miguel\\Documents\\proyecos\\S6-09-T-Angular\\client\\src\\app\\auth\\register\\register.component.ts","C:\\Users\\Miguel\\Documents\\proyecos\\S6-09-T-Angular\\client\\src\\app\\auth\\register\\register.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\nimport { ValidatorService } from '../../services/validator.service';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.component.html',\r\n  styleUrls: ['./register.component.scss']\r\n})\r\nexport class RegisterComponent {\r\n\r\n  miFormulario:FormGroup = this.fb.group({\r\n    name  :  ['', [Validators.required, Validators.pattern( this.vs.nombreApellidoPattern )]],\r\n    email   :  ['', [Validators.required, Validators.pattern( this.vs.emailPattern )]],\r\n    password:  ['', [Validators.required, Validators.minLength(6)]],\r\n    password2: ['', [Validators.required, ]]\r\n  },{\r\n    validators: [this.vs.camposIguales('password', 'password2')]\r\n  })\r\n\r\n  constructor(private fb:FormBuilder,\r\n    private router:Router,\r\n    private authService:AuthService,\r\n    private vs:ValidatorService){}\r\n\r\n\r\n    campoNoValido(campo:string) {\r\n      return this.miFormulario.get(campo)?.touched &&\r\n      this.miFormulario.get(campo)?.invalid;\r\n    }\r\n  \r\n    register(){\r\n      const {name, email, password} = this.miFormulario.value;\r\n\r\n    this.authService.register(name, email, password)\r\n        .subscribe( valid => {\r\n          console.log(valid);\r\n          if( valid === true){\r\n            \r\n            this.router.navigateByUrl('/dashboard/classroom');\r\n            \r\n          }else{\r\n            Swal.fire({\r\n              icon:'error',\r\n              title:'Email ya registrado',\r\n              showConfirmButton:true,\r\n              confirmButtonColor: '#18619b',\r\n              \r\n            })\r\n            \r\n          }\r\n          \r\n        })\r\n      \r\n    }\r\n\r\n    \r\n\r\n}\r\n","<div class=\"container-sm d-flex flex-column\">\r\n    <img src=\"assets/img/Logo.png\" class=\"img-fluid mx-auto\" alt=\"logo\" width=\"230px\">\r\n    <div class=\"container-sm mt-5\">\r\n        <form autocomplete=\"off\"\r\n              [formGroup]=\"miFormulario\"\r\n              (ngSubmit)=\"register()\">\r\n                <div class=\"row align-items-start mt-4\">\r\n                    <div class=\"col mb-3 lnombre\">\r\n                        <label for=\"nombre\" class=\"form-label text-primary \">Nombres y Apellidos</label>\r\n                        <input type=\"text\"\r\n                        formControlName=\"name\" \r\n                        class=\"form-control bg-transparent py-3 ps-3\"\r\n                        style=\"border-color: #18619B;\">\r\n                        <span *ngIf=\"campoNoValido('name')\" class=\"form-text text-danger\">\r\n                            Campo obligatorio y debe contener nombre y apellido\r\n                        </span>\r\n                    </div>\r\n                    \r\n                </div>\r\n                <div class=\"row align-items-start mt-4\">\r\n                    <div class=\"col mb-3 lnombre\">\r\n                        <label for=\"exampleInputEmail1\" class=\"form-label text-primary\" style=\"color: #18619B;\">E-mail</label>\r\n                    <input type=\"email\"\r\n                    formControlName=\"email\" \r\n                    class=\"form-control bg-transparent py-3 ps-3\" \r\n                    style=\"border-color: #18619B;\">\r\n                    <span *ngIf=\"campoNoValido('email')\" class=\"form-text text-danger\">\r\n                       Campo obligatorio y debe tener el formato de un email \r\n                    </span>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <div class=\"row align-items-start mt-4\">\r\n                    <div class=\"col mb-3 lnombre\">\r\n                        <label for=\"exampleInputEmail1\" class=\"form-label text-primary\" style=\"color: #18619B;\">Contraseña</label>\r\n                        <input type=\"password\" \r\n                        formControlName=\"password\"\r\n                        class=\"form-control bg-transparent py-3 ps-3\" \r\n                        style=\"border-color: #18619B;\">\r\n                        <span *ngIf=\"campoNoValido('password')\" class=\"form-text text-danger\">\r\n                            La constraseña debe tener mas de 6 caracteres\r\n                    </span>\r\n                    </div>\r\n                    <div class=\"col lnombre\">\r\n                        <label for=\"exampleInputEmail1\" class=\"form-label text-primary\" style=\"color: #18619B;\">Repetir contraseña</label>\r\n                        <input type=\"password\"\r\n                        formControlName=\"password2\" \r\n                        class=\"form-control bg-transparent py-3 ps-3\" \r\n                        style=\"border-color: #18619B;\">\r\n                        <span *ngIf=\"campoNoValido('password2')\" class=\"form-text text-danger\">\r\n                            La constraseñas deben de ser iguales\r\n                    </span>\r\n                    </div>\r\n                    </div>\r\n                    <div class=\"row align-items-center \" style=\"margin-top: 50px;\">\r\n                        <div class=\"col\">\r\n                            <button type=\"submit\" \r\n                            [disabled]=\"miFormulario.invalid\"\r\n                            class=\"btn\" style=\"color: #ffff; background-color: #18619B; width: 100%;\">Crear cuenta</button>\r\n                        </div>\r\n                    </div>\r\n          </form>\r\n    </div>\r\n\r\n</div>\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}