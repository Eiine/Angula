{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"ngx-socket-io\";\nexport class WebSocketService {\n  constructor(socket) {\n    this.socket = socket;\n    this.socketStatus = false;\n    this.checkStatus();\n  }\n  checkStatus() {\n    this.socket.on('connect', () => {\n      console.log('conectado al servidor');\n      this.socketStatus = true;\n    });\n    this.socket.on('disconnect', () => {\n      console.log('Desconectado del servidor');\n      this.socketStatus = false;\n    });\n  }\n  emit(evento, payload, callback) {\n    console.log(payload);\n    this.socket.emit(evento, payload, callback);\n  }\n  listen(evento) {\n    return this.socket.fromEvent(evento);\n  }\n}\nWebSocketService.ɵfac = function WebSocketService_Factory(t) {\n  return new (t || WebSocketService)(i0.ɵɵinject(i1.Socket));\n};\nWebSocketService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: WebSocketService,\n  factory: WebSocketService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";;AAMA,OAAM,MAAOA,gBAAgB;EAI3BC,YAAoBC,MAAc;IAAd,WAAM,GAANA,MAAM;IAFnB,iBAAY,GAAG,KAAK;IAGzB,IAAI,CAACC,WAAW,EAAE;EACnB;EAEDA,WAAW;IAET,IAAI,CAACD,MAAM,CAACE,EAAE,CAAC,SAAS,EAAC,MAAK;MAC5BC,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;MACpC,IAAI,CAACC,YAAY,GAAG,IAAI;IAC1B,CAAC,CAAC;IAEF,IAAI,CAACL,MAAM,CAACE,EAAE,CAAC,YAAY,EAAC,MAAK;MAC/BC,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC;MACxC,IAAI,CAACC,YAAY,GAAG,KAAK;IAC3B,CAAC,CAAC;EACJ;EAGAC,IAAI,CAACC,MAAa,EAAEC,OAAY,EAAEC,QAAmB;IAEnDN,OAAO,CAACC,GAAG,CAACI,OAAO,CAAC;IAGpB,IAAI,CAACR,MAAM,CAACM,IAAI,CAACC,MAAM,EAAEC,OAAO,EAAEC,QAAQ,CAAC;EAC7C;EAGAC,MAAM,CAACH,MAAa;IAClB,OAAO,IAAI,CAACP,MAAM,CAACW,SAAS,CAAEJ,MAAM,CAAC;EACvC;;AAjCWT,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;SAAhBA,gBAAgB;EAAAc,SAAhBd,gBAAgB;EAAAe,YAFf;AAAM","names":["WebSocketService","constructor","socket","checkStatus","on","console","log","socketStatus","emit","evento","payload","callback","listen","fromEvent","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\Miguel\\Documents\\proyecos\\S6-09-T-Angular\\client\\src\\app\\services\\web-socket.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { Socket } from 'ngx-socket-io';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class WebSocketService {\r\n\r\n  public socketStatus = false;\r\n\r\n  constructor(private socket: Socket) {\r\n    this.checkStatus(); \r\n   }\r\n\r\n  checkStatus(){\r\n    \r\n    this.socket.on('connect',() =>{\r\n      console.log('conectado al servidor');\r\n      this.socketStatus = true;\r\n    })\r\n\r\n    this.socket.on('disconnect',() =>{\r\n      console.log('Desconectado del servidor');\r\n      this.socketStatus = false;\r\n    })\r\n  }\r\n\r\n\r\n  emit(evento:string, payload?:any, callback?: Function ){\r\n      \r\n    console.log(payload);\r\n    \r\n\r\n    this.socket.emit(evento, payload, callback);\r\n  }\r\n  \r\n  \r\n  listen(evento:string){\r\n    return this.socket.fromEvent( evento);\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}